-- Create GUI elements
local player = game.Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

local screenGui = Instance.new("ScreenGui", playerGui)
screenGui.Name = "CustomLoadingScreen"
screenGui.ResetOnSpawn = false

local background = Instance.new("Frame", screenGui)
background.Size = UDim2.new(1, 0, 1, 0)
background.BackgroundColor3 = Color3.fromRGB(10, 10, 10)

local warningIcon = Instance.new("ImageLabel", background)
warningIcon.Size = UDim2.new(0, 100, 0, 100)
warningIcon.Position = UDim2.new(0.5, -50, 0.2, -50)
warningIcon.Image = "rbxassetid://6031071050" -- Warning symbol
warningIcon.BackgroundTransparency = 1

local loadingText = Instance.new("TextLabel", background)
loadingText.Size = UDim2.new(1, 0, 0, 50)
loadingText.Position = UDim2.new(0, 0, 0.4, 0)
loadingText.Text = "Loading... Please wait"
loadingText.Font = Enum.Font.GothamBold
loadingText.TextSize = 36
loadingText.TextColor3 = Color3.fromRGB(255, 255, 255)
loadingText.BackgroundTransparency = 1

local loadingBarBackground = Instance.new("Frame", background)
loadingBarBackground.Size = UDim2.new(0.6, 0, 0, 30)
loadingBarBackground.Position = UDim2.new(0.2, 0, 0.5, 0)
loadingBarBackground.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
loadingBarBackground.BorderSizePixel = 0

local loadingBar = Instance.new("Frame", loadingBarBackground)
loadingBar.Size = UDim2.new(0, 0, 1, 0)
loadingBar.Position = UDim2.new(0, 0, 0, 0)
loadingBar.BackgroundColor3 = Color3.fromRGB(0, 255, 255)
loadingBar.BorderSizePixel = 0

local percentageLabel = Instance.new("TextLabel", background)
percentageLabel.Size = UDim2.new(1, 0, 0, 50)
percentageLabel.Position = UDim2.new(0, 0, 0.57, 0)
percentageLabel.Text = "0%"
percentageLabel.Font = Enum.Font.Gotham
percentageLabel.TextSize = 30
percentageLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
percentageLabel.BackgroundTransparency = 1
percentageLabel.TextStrokeTransparency = 0.5

-- Tween service for animation
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")

-- Animate loading bar and RGB color
local duration = 120 -- 2 minutes
local startTime = tick()

-- Function to interpolate RGB
local function getRainbowColor(t)
	local r = math.sin(t * 2) * 127 + 128
	local g = math.sin(t * 2 + 2) * 127 + 128
	local b = math.sin(t * 2 + 4) * 127 + 128
	return Color3.fromRGB(r, g, b)
end

-- Main loop
RunService.RenderStepped:Connect(function()
	local elapsed = tick() - startTime
	local progress = math.clamp(elapsed / duration, 0, 1)

	-- Update loading bar size
	loadingBar.Size = UDim2.new(progress, 0, 1, 0)

	-- Update percentage text
	percentageLabel.Text = string.format("%d%%", math.floor(progress * 100))

	-- Update glowing RGB color
	loadingBar.BackgroundColor3 = getRainbowColor(tick())
end)

-- Auto-remove after duration
task.delay(duration, function()
	screenGui:Destroy()
end)
